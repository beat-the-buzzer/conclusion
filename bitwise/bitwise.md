### 冷门，js中的位运算和逻辑运算符

说到位运算，我们第一时间想到的是初学计算机的时候，那时候有原码，反码，补码，还记得老师一直强调的：按位取反，末位加一。但是，除了在试卷上使用位运算符，我们似乎忘记了这个东西。我无意中看到了js位运算的应用，觉得很有趣，就把它们写在这里了。

1、取整

取整的函数有很多：

	parseInt(3.5);
	Math.ceil(3.5);
	Math.round(3.5);
	Math.floor(3.5);
	(3.5).toFixed(0);

以上的方式都可以取整，但是有一些方法需要注意：

	parseInt(0.0000008); 

得到的结果是8，主要原因是0.0000008会变成8e-7，而parseInt的第一个参数实际上是一个字符串，实际上的参数是'8e-7',所以结果就是8。parseInt() 函数可解析一个字符串，并返回一个整数。

	(3.5).toFixed(0);

得到的结果是"4",toFixed是Number对象方法，把数字转换为字符串，结果的小数点后有指定位数的数字。所以在使用toFixed的时候，慎重使用===来判断是否相等。

其实，取整的话，使用位运算符就很容易了。

	var a = ~~2.33
	var b= 2.33 | 0
	var c= 2.33 >> 0

得到的结果都是2。

2、交换两个数字的值

这是初学编程的时候一定做过的问题，当时的方法有两种,一种是使用中间变量：

	var a = 1,b = 2;
	var c = a;
	a = b;
	b = c; 

另一种是使用运算的方法：

	var a = 1,b = 2;
	a = a + b;
	b = a - b;
	a = a - b;

很明显，第一种方法新引入了一个变量，第二种方法可能会导致越界（虽然JavaScript的数字类型边界值很大，但是像Java这样的语言，int的边界值是很小的）

这样就引入了第三种方法：

	a ^= b;
	b ^= a;
	a ^= b;

其实异或操作类似于无符号二进制的加法，二进制的加法又类似于无符号二进制的减法。因为是位运算，所以不会冲破位数的限制，并且没有引入中间变量。

3、逻辑运算符的妙用

逻辑运算符我们经常用到，但是有些时候，我们需要灵活运用。比如，我们经常会遇到这样的场景：如果存在某变量，就把这个变量赋值给a，如果不存在这个变量，就初始化为1

	if (b) {
	    a = b;
	} else {
	    a = 1;
	}

其实这个可以一行搞定：

	var a = b || 1;

但是要注意，如果b的值是0，也会初始化为1。
